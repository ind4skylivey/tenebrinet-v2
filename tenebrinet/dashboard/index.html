<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TenebriNET // Panopticon</title>
    <link rel="stylesheet" href="/static/css/style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <div class="app-container">
      <nav class="sidebar">
        <div class="brand">
          <i class="fa-solid fa-network-wired"></i>
          <span>TenebriNET</span>
        </div>
        <ul class="nav-links">
          <li class="active" data-tab="dashboard">
            <i class="fa-solid fa-chart-line"></i> Dashboard
          </li>
          <li data-tab="attacks"><i class="fa-solid fa-bug"></i> Live Feed</li>
          <li data-tab="map"><i class="fa-solid fa-map"></i> Threat Map</li>
          <li data-tab="settings"><i class="fa-solid fa-cog"></i> Settings</li>
        </ul>
        <div class="status-panel">
          <div class="status-item">
            <span class="status-dot online"></span>
            <span class="status-text">System Online</span>
          </div>
          <div class="status-item">
            <span class="status-label">Uptime:</span>
            <span class="status-value" id="uptime">00:00:00</span>
          </div>
        </div>
      </nav>

      <main class="main-content">
        <header class="top-bar">
          <h1 id="page-title">Dashboard</h1>
          <div class="top-actions">
            <button id="refresh-btn" class="btn-icon">
              <i class="fa-solid fa-sync"></i>
            </button>
            <div class="user-profile">
              <img
                src="https://ui-avatars.com/api/?name=Admin&background=0D8ABC&color=fff"
                alt="Admin"
              />
              <span>Operator</span>
            </div>
          </div>
        </header>

        <div id="dashboard-view" class="view active">
          <div class="stats-grid">
            <div class="stat-card">
              <div class="stat-icon ssh">
                <i class="fa-solid fa-terminal"></i>
              </div>
              <div class="stat-info">
                <h3>SSH Attacks</h3>
                <p class="stat-value" id="ssh-count">0</p>
                <span class="stat-trend positive"
                  ><i class="fa-solid fa-arrow-up"></i> 12%</span
                >
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon http">
                <i class="fa-solid fa-globe"></i>
              </div>
              <div class="stat-info">
                <h3>HTTP Attacks</h3>
                <p class="stat-value" id="http-count">0</p>
                <span class="stat-trend positive"
                  ><i class="fa-solid fa-arrow-up"></i> 5%</span
                >
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon ftp">
                <i class="fa-solid fa-folder-open"></i>
              </div>
              <div class="stat-info">
                <h3>FTP Attacks</h3>
                <p class="stat-value" id="ftp-count">0</p>
                <span class="stat-trend negative"
                  ><i class="fa-solid fa-arrow-down"></i> 2%</span
                >
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon creds"><i class="fa-solid fa-key"></i></div>
              <div class="stat-info">
                <h3>Credentials</h3>
                <p class="stat-value" id="cred-count">0</p>
                <span class="stat-trend positive"
                  ><i class="fa-solid fa-arrow-up"></i> 8%</span
                >
              </div>
            </div>
          </div>

          <div class="charts-row">
            <div class="chart-container">
              <h2>Attack Trends (24h)</h2>
              <canvas id="attacksChart"></canvas>
            </div>
            <div class="chart-container">
              <h2>Threat Distribution</h2>
              <canvas id="threatsChart"></canvas>
            </div>
          </div>

          <div class="recent-activity">
            <h2>Recent Interceptions</h2>
            <div class="table-responsive">
              <table class="data-table">
                <thead>
                  <tr>
                    <th>Timestamp</th>
                    <th>Service</th>
                    <th>Source IP</th>
                    <th>Threat Type</th>
                    <th>Confidence</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody id="recent-attacks-body">
                  <!-- Populated by JS -->
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <div id="attacks-view" class="view">
          <h2>Live Attack Feed</h2>
          <div class="terminal-feed" id="terminal-feed">
            <!-- Terminal style logs -->
          </div>
        </div>

        <div id="map-view" class="view">
          <h2>Global Threat Map</h2>
          <div id="threat-map" style="height: 600px; width: 100%; border-radius: 8px; border: 1px solid #334155;"></div>
        </div>

        <div id="settings-view" class="view">
          <h2>System Configuration</h2>
          <div class="settings-container" style="max-width: 800px; margin-top: 20px;">

            <div class="setting-group" style="background: #1e293b; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #334155;">
              <h3 style="margin-bottom: 15px; color: #94a3b8; border-bottom: 1px solid #334155; padding-bottom: 10px;">
                <i class="fa-solid fa-desktop"></i> Interface
              </h3>
              <div class="setting-item" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <div>
                  <label style="display: block; font-weight: 600;">Dark Mode</label>
                  <small style="color: #64748b;">Enable high-contrast dark theme</small>
                </div>
                <label class="switch" style="position: relative; display: inline-block; width: 50px; height: 24px;">
                  <input type="checkbox" checked id="dark-mode-toggle">
                  <span class="slider round" style="position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #3b82f6; transition: .4s; border-radius: 34px;"></span>
                  <span style="position: absolute; content: ''; height: 16px; width: 16px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; transform: translateX(26px);"></span>
                </label>
              </div>
              <div class="setting-item" style="display: flex; justify-content: space-between; align-items: center;">
                <div>
                  <label style="display: block; font-weight: 600;">Refresh Rate</label>
                  <small style="color: #64748b;">Dashboard data polling interval</small>
                </div>
                <select style="background: #0f172a; border: 1px solid #334155; color: #e2e8f0; padding: 5px 10px; border-radius: 4px;">
                  <option value="5000" selected>5 Seconds</option>
                  <option value="10000">10 Seconds</option>
                  <option value="30000">30 Seconds</option>
                </select>
              </div>
            </div>

            <div class="setting-group" style="background: #1e293b; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #334155;">
              <h3 style="margin-bottom: 15px; color: #94a3b8; border-bottom: 1px solid #334155; padding-bottom: 10px;">
                <i class="fa-solid fa-shield-halved"></i> Security Modules
              </h3>
              <div class="setting-item" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <div>
                  <label style="display: block; font-weight: 600;">SSH Honeypot</label>
                  <small style="color: #64748b;">Port 2222 emulation</small>
                </div>
                <div style="color: #10b981; font-weight: bold;"><i class="fa-solid fa-circle-check"></i> ACTIVE</div>
              </div>
              <div class="setting-item" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <div>
                  <label style="display: block; font-weight: 600;">HTTP Honeypot</label>
                  <small style="color: #64748b;">Port 8080 emulation</small>
                </div>
                <div style="color: #10b981; font-weight: bold;"><i class="fa-solid fa-circle-check"></i> ACTIVE</div>
              </div>
              <div class="setting-item" style="display: flex; justify-content: space-between; align-items: center;">
                <div>
                  <label style="display: block; font-weight: 600;">FTP Honeypot</label>
                  <small style="color: #64748b;">Port 2121 emulation</small>
                </div>
                <div style="color: #10b981; font-weight: bold;"><i class="fa-solid fa-circle-check"></i> ACTIVE</div>
              </div>
            </div>

            <div class="setting-group" style="background: #1e293b; padding: 20px; border-radius: 8px; border: 1px solid #334155;">
              <h3 style="margin-bottom: 15px; color: #94a3b8; border-bottom: 1px solid #334155; padding-bottom: 10px;">
                <i class="fa-solid fa-database"></i> Data Management
              </h3>
              <div class="setting-item">
                <button class="btn-danger" style="background: #ef4444; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; width: 100%;">
                  <i class="fa-solid fa-trash"></i> Purge All Logs
                </button>
                <p style="margin-top: 10px; color: #ef4444; font-size: 0.8em; text-align: center;">Warning: This action is irreversible.</p>
              </div>
            </div>

          </div>
        </div>
      </main>
    </div>
    <script src="/static/js/app.js"></script>
  </body>
</html>
